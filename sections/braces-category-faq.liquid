{% include 'category-faq' with section %}

{% schema %}
{
  "name": "FAQ",
  "settings": [
    {
      "id": "faq_title",
      "type": "text",
      "label": "Title"
    },
    {
      "type": "image_picker",
      "id": "faq_image",
      "label": "Featured image"
    }
  ],
  "blocks": [
    {
      "type": "question",
      "name": "Question",
      "settings": [
        {
          "id": "question",
          "type": "text",
          "label": "Question"
        },
        {
          "id": "answer",
          "type": "richtext",
          "label": "Answer"
        }
      ]
    }
  ],
  "presets": []
}
{% endschema %}

{% javascript %}
	$(document).on('click', '.faq-module .faq-item__header', function(e) {
      e.preventDefault(); 
      const $parentEl = $(this).parents('.faq-item');
	  $parentEl.toggleClass('active');

      $parentEl.find('.faq-item__body').slideToggle();
    });
	$(document).on('click', '.faq-module .load-more-faq', function(e) {
      e.preventDefault(); 

		$(this).slideToggle();
		$('.faq-item.load-more-hidden').slideToggle();
	});
{% endjavascript %}